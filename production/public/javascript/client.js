console.log("Hello!");const urlLink="http://localhost:3000/link/",responseContainer=document.querySelector("ul"),articleList=document.querySelectorAll(".article-list");let htmlContent="",model={articleList:document.querySelectorAll(".article-list"),pending:!1,current:!1,toggleCurrent:function(e){this.current&&this.current===e?this.current=!1:this.current=e}},view={renderArticle:e=>{e.insertAdjacentHTML("beforeend",htmlContent),view.adjustColors.check(e),controller.removePlaceholder(e),model.pending=!1,model.current=e},adjustColors:{visited:e=>{e.classList.add("visited"),e.classList.remove("active")},active:e=>{e.classList.add("active"),e.classList.remove("visited")},activate:e=>{e.classList.add("active"),e.classList.remove("standard")},check:function(e){e.classList.contains("standard")?this.activate(e):e.classList.contains("active")?this.visited(e):this.active(e)}},toggleArticle:e=>{"none"!=e.style.display?e.style.display="none":e.style.display="block"},clearCurrent:e=>{if(model.current&&model.current!==e){let e=model.current.querySelector(".article-content");view.toggleArticle(e),view.adjustColors.visited(model.current)}},composeText:function(){setTimeout(()=>{this.displayLetters("serverside node.js webscraper built with puppeteer","h6",60)},3e3),this.displayLetters("Scrape it!","h4",160)},displayLetters:(e,t,i)=>{let l=document.getElementsByTagName(t)[0],r=e.split("");for(let e=0;e<r.length;e++)setTimeout(()=>{" "!==r[e]?l.innerHTML+=r[e]:l.innerHTML+="&nbsp;"},i*(e+1))}},controller={init:function(){this.listenersOn(),view.composeText()},listenersOn:()=>{for(let e of articleList)e.addEventListener("click",controller.listenClick)},listenClick:function(){let e=this.querySelector(".article-content");model.pending||(e?!1===model.current||model.current===this?(view.toggleArticle(e),view.adjustColors.check(this),model.toggleCurrent(this)):(view.clearCurrent(this),view.toggleArticle(e),view.adjustColors.check(this),model.toggleCurrent(this)):(this.insertAdjacentHTML("beforeend",'<div class ="loader"><div>'),model.pending="true",controller.getArticle(this),view.clearCurrent(this)))},getArticle:function(e){fetch(`${urlLink}?link=${e.dataset.link}`).then(e=>e.json()).then(t=>{this.addArticle(t),view.renderArticle(e)})},addArticle:e=>{htmlContent=`<ul class ='article-content'> ${htmlContent=e.articleEntry.map(e=>`\n  <p class = 'article-part'>${e.article}</p>`).join("")}</ul>`},removePlaceholder:function(e){e.removeChild(e.querySelector(".loader"))}};controller.init();